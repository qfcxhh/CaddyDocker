{
    order replace after encode

    # Global options
    auto_https disable_redirects
    # 可选: 配置邮箱用于 Let's Encrypt 通知
    email 213193509seu@gmail.com
}

# ACME challenge handling for HTTP
:80 {
root * /var/www/html
file_server
}

# 1. claude3.ucas.life
claude3.ucas.life {
#tls /etc/letsencrypt/live/claude3.ucas.life/fullchain.pem /etc/letsencrypt/live/claude3.ucas.life/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

handle {
reverse_proxy http://60.205.189.192:1145 {
header_up Connection ""
transport http {
versions h1
read_timeout 24h
}
flush_interval -1
}
}
}

# 2. claude.585dg.com
claude.585dg.com {
#tls /etc/letsencrypt/live/claude3.ucas.life/fullchain.pem /etc/letsencrypt/live/claude3.ucas.life/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

handle {
reverse_proxy http://60.205.189.192:1145 {
header_up Connection ""
transport http {
versions h1
read_timeout 24h
}
flush_interval -1
}
}
}

# 3. claude.liuligpt.space
claude.liuligpt.space {
#tls /etc/letsencrypt/live/claude.liuligpt.space/fullchain.pem /etc/letsencrypt/live/claude.liuligpt.space/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

handle {
root * /etc/nginx/dist
try_files {path} {path}/ /index.html
file_server
}
}

# 4. claude.liuli.mmwcy.cn
claude.liuli.mmwcy.cn {
#tls /etc/letsencrypt/live/claude.liuli.mmwcy.cn/fullchain.pem /etc/letsencrypt/live/claude.liuli.mmwcy.cn/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

redir https://claude.liuli.arelay.com{uri} permanent
}

api.claude.585dg.com {
reverse_proxy 54.254.143.80:1145
}

# poe.585dg.com {
# @acme_challenge {
# path /.well-known/acme-challenge/*
# }
# handle @acme_challenge {
# root * /var/www/html
# file_server
# }
# reverse_proxy 54.254.143.80:1441
# }


http://poe.585dg.com   {
redir https://{host}{uri}
}



 https://poe.585dg.com  {
reverse_proxy http://54.254.143.80:1441 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }

# 5. claude.liuli.arelay.com
# claude.liuli.arelay.com {
# #tls /etc/letsencrypt/live/claude.liuli.mmwcy.cn/fullchain.pem /etc/letsencrypt/live/claude.liuli.mmwcy.cn/privkey.pem

# @acme_challenge {
# path /.well-known/acme-challenge/*
# }
# handle @acme_challenge {
# root * /var/www/html
# file_server
# }

# reverse_proxy http://54.254.143.80:1341 {
# header_up Host {host}
# header_up Upgrade {header.Upgrade}
# header_up Connection "upgrade"
# transport http {
# versions h1
# }
# flush_interval -1
# }
# }




# 6. storage.ucas.life
storage.ucas.life {
#tls /etc/letsencrypt/live/storage.ucas.life/fullchain.pem /etc/letsencrypt/live/storage.ucas.life/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:8081 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

# 7. claude2.ai0.cn
claude2.ai0.cn {
#tls /etc/letsencrypt/live/claude2.ai0.cn/fullchain.pem /etc/letsencrypt/live/claude2.ai0.cn/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

# 8. demogpt.585dg.com
# demogpt.585dg.com {
#     #tls /etc/letsencrypt/live/demogpt.585dg.com/fullchain.pem /etc/letsencrypt/live/demogpt.585dg.com/privkey.pem

#     @acme_challenge {
#         path /.well-known/acme-challenge/*
#     }
#     handle @acme_challenge {
#         root * /var/www/html
#         file_server
#     }

#     reverse_proxy https://chat.soruxgpt.com {
#         header_up Host chat.soruxgpt.com
#         header_up X-Real-IP {remote_host}
#         header_up X-Forwarded-For {remote_host}
#         header_up X-Forwarded-Proto {scheme}
#         header_up Upgrade {header.Upgrade}
#         header_up Connection "upgrade"
#         transport http {
#             #tls
#             #tls_server_name chat.soruxgpt.com
#             versions h1, h2
#         }
#         flush_interval -1
#     }
# }


# 8.1 this is a newly created domain https://chat.585dg.com/


# http://chat.585dg.com {
#     # Caddy会自动申请和管理证书，不需要手动指定证书路径
#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "default-mail@gpt.com"
#     replace "SoruxGPT.com User" "GPT.com User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }

# }

# https://chat.585dg.com {
#     # Caddy会自动申请和管理证书，不需要手动指定证书路径
#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "default-mail@gpt.com"
#     replace "SoruxGPT.com User" "GPT.com User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }

# }


# HTTP配置
# http://chat.585dg.com {
#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "default-mail@gpt.com"
#     replace "SoruxGPT.com User" "GPT.com User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }
# https://chat.585dg.com {
#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "default-mail@gpt.com"
#     replace "SoruxGPT.com User" "GPT.com User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }

# # HTTP 配置
# http://chat.585dg.com {
#     redir https://{host}{uri} permanent
# }

# # HTTPS 配置
# https://chat.585dg.com {
#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "email"
#     replace "SoruxGPT.com User" "User"

#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }



http://clauO1.585dg.com  {
    redir https://{host}{uri}
}

https://clauO1.585dg.com  {
    handle /api/* {
        reverse_proxy http://54.254.143.80:8600 {
            header_up Host {host}
            header_up X-Real-IP {remote_host}
            header_up X-Forwarded-For {remote_host}
            header_up REMOTE-HOST {remote_host}
        }
    }

   handle /app/* {
        reverse_proxy http://54.254.143.80:8600
        }
  
   redir /list /list/
   handle_path /list/* {
       rewrite *  /app/index.html
       reverse_proxy http://54.254.143.80:8600
   }

    reverse_proxy http://54.254.143.80:8500
}

http://chat.585dg.com {
redir https://{host}{uri} permanent
}

chat.585dg.com {
@notapi {
not path /backend-api/conversation
}

replace @notapi {
"SoruxGPT 登录" "GPT 登录"
"SoruxGPT 账号" "GPT 账号"
"SoruxGPT 密码" "GPT 密码"
"Hello, SoruxGPT!" "Hello, GPT!"
"default-mail@soruxgpt.com" "email"
"SoruxGPT.com User" "User"
"Powered By SoruxGPT" "Powered By GPT"
"前往 SoruxGPT 注册" "前往 GPT 注册"
}
reverse_proxy {
to https://liuli-chatgpt.soruxgpt.com
header_up Host liuli-chatgpt.soruxgpt.com
}
}


http://aigo1.585dg.com {
redir https://{host}{uri} permanent
}

aigo1.585dg.com {
@notapi {
not path /backend-api/conversation
}

replace @notapi {
"SoruxGPT 登录" "GPT 登录"
"SoruxGPT 账号" "GPT 账号"
"SoruxGPT 密码" "GPT 密码"
"Hello, SoruxGPT!" "Hello, GPT!"
"default-mail@soruxgpt.com" "email"
"SoruxGPT.com User" "User"
"Powered By SoruxGPT" "Powered By GPT"
"前往 SoruxGPT 注册" "前往 GPT 注册"
}
reverse_proxy {
to https://liuli-chatgpt.soruxgpt.com
header_up Host liuli-chatgpt.soruxgpt.com
}
}



http://o1pre.585dg.com {
redir https://{host}{uri} permanent
}

o1pre.585dg.com {
@notapi {
not path /backend-api/conversation
}

replace @notapi {
"SoruxGPT 登录" "GPT 登录"
"SoruxGPT 账号" "GPT 账号"
"SoruxGPT 密码" "GPT 密码"
"Hello, SoruxGPT!" "Hello, GPT!"
"default-mail@soruxgpt.com" "email"
"SoruxGPT.com User" "User"
"Powered By SoruxGPT" "Powered By GPT"
"前往 SoruxGPT 注册" "前往 GPT 注册"
}
reverse_proxy {
to https://liuli-chatgpt.soruxgpt.com
header_up Host liuli-chatgpt.soruxgpt.com
}
}

# 9. ailiu.585dg.com
ailiu.585dg.com {
#tls /etc/letsencrypt/live/ailiu.585dg.com/fullchain.pem /etc/letsencrypt/live/ailiu.585dg.com/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}


# 7nf28egs.svipcdn.cn.


http://claud.585dg.com  {
redir https://{host}{uri}
}



 https://claud.585dg.com  {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }



http://claudetest.585dg.com  {
redir https://{host}{uri}
}



 https://claudetest.585dg.com  {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }



# 8181

http://aiclau1.585dg.com  {
redir https://{host}{uri}
}



 https://aiclau1.585dg.com  {
reverse_proxy http://54.254.143.80:8181 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }





# reverse_proxy http://54.254.143.80:8500 {
# header_up Host {host}
# header_up X-Real-IP {remote_host}
# header_up X-Forwarded-Proto {scheme}
# header_up X-Forwarded-For {remote_host}
# header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
# header_up CF-Ray {http.request.header.CF-Ray}
# header_up Upgrade {header.Upgrade}
# header_up Connection "upgrade"
# transport http {
# versions h1
# }
# flush_interval -1
# health_timeout 5s
# }
#  }
# https://clauO1.585dg.com {
#     @common_headers {
#         header_up Host {host}
#         header_up X-Real-IP {remote_host} 
#         header_up X-Forwarded-Proto {scheme}
#         header_up X-Forwarded-For {remote_host}
#         header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
#         header_up CF-Ray {http.request.header.CF-Ray}
#         header_up Upgrade {header.Upgrade}
#         header_up Connection "upgrade"
#         transport http {
#             versions h1
#         }
#         flush_interval -1
#         health_timeout 5s
#     }

#     handle_path /list/* {
#         rewrite * /app/index.html
#         reverse_proxy http://54.254.143.80:8600 {
#             import common_headers
#         }
#     }

#     handle /api/* {
#         reverse_proxy http://54.254.143.80:8600 {
#             import common_headers
#         }
#     }

#     handle /app/* {
#         reverse_proxy http://54.254.143.80:8600 {
#             import common_headers
#         }
#     }

#     handle {
#         reverse_proxy http://54.254.143.80:8500 {
#             import common_headers
#         }
#     }
# }



# aiclau

 http://aiclau.585dg.com  {
redir https://{host}{uri}
}



 https://aiclau.585dg.com  {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }

# claudai
 http://claudai.585dg.com  {
redir https://{host}{uri}
}



 https://claudai.585dg.com  {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }


# # 9.2 ailiu.585dg.com
# claude35.liuli.585dg.com {
# #tls /etc/letsencrypt/live/ailiu.585dg.com/fullchain.pem /etc/letsencrypt/live/ailiu.585dg.com/privkey.pem

# @acme_challenge {
# path /.well-known/acme-challenge/*
# }
# handle @acme_challenge {
# root * /var/www/html
# file_server
# }

# reverse_proxy http://54.254.143.80:8300 {
# header_up Host {host}
# header_up Upgrade {header.Upgrade}
# header_up Connection "upgrade"
# transport http {
# versions h1
# }
# flush_interval -1
# }
# }


http://claude35.liuli.585dg.com {
redir https://{host}{uri}
}



 https://claude35.liuli.585dg.com {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }


http://o1.585dg.com {
redir https://{host}{uri}
}



 https://o1.585dg.com {
reverse_proxy http://54.254.143.80:8400 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }



# # 9.2 ailiu.585dg.com
# clauai.qqyunsd.com  {
#     #tls /etc/letsencrypt/live/ailiu.585dg.com/fullchain.pem /etc/letsencrypt/live/ailiu.585dg.com/privkey.pem

#     @acme_challenge {
#         path /.well-known/acme-challenge/*
#     }
#     handle @acme_challenge {
#         root * /var/www/html
#         file_server
#     }

#     reverse_proxy http://54.254.143.80:8300 {
#         header_up Host {host}
#         header_up Upgrade {header.Upgrade}
#         header_up Connection "upgrade"
#         transport http {
#             versions h1
#         }
#         flush_interval -1
#     }
# }

# Caddy 配置


http://clauai.qqyunsd.com {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}

}





https://clauai.qqyunsd.com {
reverse_proxy http://54.254.143.80:8300 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}

}





http://qqyunsd.com {
reverse_proxy http://54.254.143.80:1341 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}

}





https://qqyunsd.com {
reverse_proxy http://54.254.143.80:1341 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}

}


# # HTTP配置
# http://chat.qqyunsd.com {

#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "email"
#     replace "SoruxGPT.com User" "User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }
# https://chat.qqyunsd.com {


#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "email"
#     replace "SoruxGPT.com User" "User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }



http://clauaitest.qqyunsd.com  {
redir https://{host}{uri} permanent
}





https://clauaitest.qqyunsd.com {
reverse_proxy http://54.254.143.80:8301 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}

}

http://chat.qqyunsd.com {
redir https://{host}{uri} permanent
}

chat.qqyunsd.com {
@notapi {
not path /backend-api/conversation
}

replace @notapi {
"SoruxGPT 登录" "GPT 登录"
"SoruxGPT 账号" "GPT 账号"
"SoruxGPT 密码" "GPT 密码"
"Hello, SoruxGPT!" "Hello, GPT!"
"default-mail@soruxgpt.com" "email"
"SoruxGPT.com User" "User"
"Powered By SoruxGPT" "Powered By GPT"
"前往 SoruxGPT 注册" "前往 GPT 注册"
}
reverse_proxy {
            to http://liuli-chatgpt.soruxgpt.23.158.72.168.nip.io:32500
            # header_up Accept-Encoding identity     
}

}
http://chatai.qqyunsd.com {
redir https://{host}{uri} permanent
}

chatai.qqyunsd.com {
@notapi {
not path /backend-api/conversation
}

replace @notapi {
"SoruxGPT 登录" "GPT 登录"
"SoruxGPT 账号" "GPT 账号"
"SoruxGPT 密码" "GPT 密码"
"Hello, SoruxGPT!" "Hello, GPT!"
"default-mail@soruxgpt.com" "email"
"SoruxGPT.com User" "User"
"Powered By SoruxGPT" "Powered By GPT"
"前往 SoruxGPT 注册" "前往 GPT 注册"
}

# reverse_proxy http://liuli-chatgpt.soruxgpt.23.158.72.168.nip.io:32500 {
#     header_up Host {http.reverse_proxy.upstream.hostport}
#     header_up Accept-Encoding identity  # 禁用压缩以确保替换能正常工作
# }
reverse_proxy {
            to http://liuli-chatgpt.soruxgpt.23.158.72.168.nip.io:32500
            # header_up Accept-Encoding identity     
}
}
# # HTTP配置
# http://chatai.qqyunsd.com {

#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "email"
#     replace "SoruxGPT.com User" "User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }
# https://chatai.qqyunsd.com {


#     replace "SoruxGPT 登录" "GPT 登录"
#     replace "SoruxGPT 账号" "GPT 账号"
#     replace "SoruxGPT 密码" "GPT 密码"
#     replace "Hello, SoruxGPT!" "Hello, GPT!"
#     replace "default-mail@soruxgpt.com" "email"
#     replace "SoruxGPT.com User" "User"
#     reverse_proxy {
#         to https://liuli-chatgpt.soruxgpt.com 
#         header_up Host liuli-chatgpt.soruxgpt.com
#         transport http {
#             tls
#             tls_insecure_skip_verify
#         }
#     }
# }


# HTTP配置
http://shop.qqyunsd.com {
reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
}
https://shop.qqyunsd.com {
reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
}





http://poe.qqyunsd.com {
reverse_proxy http://54.254.143.80:1441 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
}

https://poe.qqyunsd.com {
reverse_proxy http://54.254.143.80:1441 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
}
# clauai.qqyunsd.com {
#     # 添加日志便于调试
#     # log {
#     #     output file /var/log/caddy/clauai.log
#     #     format console
#     #     level DEBUG
#     # }

#     # reverse_proxy 54.254.143.80:8300

#       respond / "Hello, world! This is a static response from Caddy." 200

#     tls {
#         dns cloudflare AEvH27f-KDkj09dITa9_U7OdLfu4LZs9TqwMfczX
#     }
# }


# 

# 10. claude35.liuligpt.space
claude35.liuligpt.space {
#tls /etc/letsencrypt/live/claude35.liuligpt.space/fullchain.pem /etc/letsencrypt/live/claude35.liuligpt.space/privkey.pem

redir / /chat permanent

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:1341 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

# 11. claude35.liuligpt.com
claude35.liuligpt.com {
#tls /etc/letsencrypt/live/claude35.liuligpt.space/fullchain.pem /etc/letsencrypt/live/claude35.liuligpt.space/privkey.pem

redir / /chat permanent

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:1341 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

# 12. liuli.mmwcy.cn
liuli.mmwcy.cn {
#tls /etc/letsencrypt/live/liuli.mmwcy.cn/fullchain.pem /etc/letsencrypt/live/liuli.mmwcy.cn/privkey.pem

redir https://shop.liuli.arelay.com{uri} permanent

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}
}

# 13. shop.liuli.arelay.com
shop.liuli.arelay.com {
#tls /etc/letsencrypt/live/shop.liuli.arelay.com/fullchain.pem /etc/letsencrypt/live/shop.liuli.arelay.com/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

http://api.claude35.585dg.com {
redir https://{host}{uri}
}


# # 14. api.claude35.585dg.com
# api.claude35.585dg.com {
# #tls /etc/letsencrypt/live/api.claude35.585dg.com/fullchain.pem /etc/letsencrypt/live/api.claude35.585dg.com/privkey.pem

# @acme_challenge {
# path /.well-known/acme-challenge/*
# }
# handle @acme_challenge {
# root * /var/www/html
# file_server
# }

# reverse_proxy http://54.254.143.80:1145 {
# header_up Host {host}
# header_up Upgrade {header.Upgrade}
# header_up Connection "upgrade"
# transport http {
# versions h1
# }
# flush_interval -1
# }
# }


api.claude35.585dg.com {
reverse_proxy http://54.254.143.80:1145 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
}

# 15. store.585dg.com 商店需要同时基于http和https

# HTTP配置
http://store.585dg.com {
reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}
https://store.585dg.com {
reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}




# HTTP配置
http://shop.liuli.585dg.com {
reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}
https://shop.liuli.585dg.com {
reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}







ai.liuli.585dg.com {
reverse_proxy 54.254.143.80:8181
}

# http://claude.liuli.585dg.com {
# redir https://{host}{uri}
# }

# https://claude.liuli.585dg.com {
# @acme_challenge {
# path /.well-known/acme-challenge/*
# }
# handle @acme_challenge {
# root * /var/www/html
# file_server
# }


http://claude.liuli.585dg.com  {
redir https://{host}{uri}
}



 https://claude.liuli.585dg.com  {
reverse_proxy http://54.254.143.80:1341 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-Proto {scheme}
header_up X-Forwarded-For {remote_host}
header_up CF-Connecting-IP {http.request.header.CF-Connecting-IP}
header_up CF-Ray {http.request.header.CF-Ray}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
health_timeout 5s
}
 }





# store.585dg.com {
#     #tls /etc/letsencrypt/live/store.585dg.com/fullchain.pem /etc/letsencrypt/live/store.585dg.com/privkey.pem

#     @acme_challenge {
#         path /.well-known/acme-challenge/*
#     }
#     handle @acme_challenge {
#         root * /var/www/html
#         file_server
#     }

#     reverse_proxy http://54.254.143.80:9000 {
#         header_up Host {host}
#         header_up Upgrade {header.Upgrade}
#         header_up Connection "upgrade"
#         transport http {
#             versions h1
#         }
#         flush_interval -1
#     }
# }

# 16. api.poe.585dg.com
api.poe.585dg.com {
#tls /etc/letsencrypt/live/api.poe.585dg.com/fullchain.pem /etc/letsencrypt/live/api.poe.585dg.com/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:8000 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

# 17. shop.liuligpt.space
shop.liuligpt.space {
#tls /etc/letsencrypt/live/shop.liuligpt.space/fullchain.pem /etc/letsencrypt/live/shop.liuligpt.space/privkey.pem

redir https://liuli.mmwcy.cn{uri} permanent

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}
}

# 18. store.liuligpt.space
store.liuligpt.space {
#tls /etc/letsencrypt/live/store.liuligpt.space/fullchain.pem /etc/letsencrypt/live/store.liuligpt.space/privkey.pem

redir https://liuli.mmwcy.cn{uri} permanent

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}
}

# 19. shop.liuligpt.com
shop.liuligpt.com {
#tls /etc/letsencrypt/live/shop.liuligpt.com/fullchain.pem /etc/letsencrypt/live/shop.liuligpt.com/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:9000 {
header_up Host {host}
header_up X-Real-IP {remote_host}
header_up X-Forwarded-For {remote_host}
header_up X-Forwarded-Proto {scheme}
transport http {
versions h1
}
flush_interval -1
}
}

# 20. claude.liuligpt.com
claude.liuligpt.com {
#tls /etc/letsencrypt/live/claude.liuligpt.com/fullchain.pem /etc/letsencrypt/live/claude.liuligpt.com/privkey.pem

@acme_challenge {
path /.well-known/acme-challenge/*
}
handle @acme_challenge {
root * /var/www/html
file_server
}

reverse_proxy http://54.254.143.80:8181 {
header_up Host {host}
header_up Upgrade {header.Upgrade}
header_up Connection "upgrade"
transport http {
versions h1
}
flush_interval -1
}
}

# 21. 新增 lanfanqie.585dg.com 配置
http://lanfanqie.585dg.com {
    redir https://{host}{uri} permanent
}

https://lanfanqie.585dg.com {
    @acme_challenge {
        path /.well-known/acme-challenge/*
    }
    handle @acme_challenge {
        root * /var/www/html
        file_server
    }

    reverse_proxy http://54.254.143.80:9000 {
        header_up Host {host}
        header_up Upgrade {header.Upgrade}
        header_up Connection "upgrade"
        transport http {
            versions h1
        }
        flush_interval -1
        health_timeout 5s
    }
}